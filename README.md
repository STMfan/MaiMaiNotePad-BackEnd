# MaiMNP-rereremake-Flutter åç«¯æœåŠ¡

è¿™æ˜¯ä¸€ä¸ªåŸºäº FastAPI æ„å»ºçš„åç«¯æœåŠ¡ï¼Œæä¾›çŸ¥è¯†åº“ç®¡ç†ã€äººè®¾å¡åŠŸèƒ½ã€ç”¨æˆ·ç®¡ç†ã€æ¶ˆæ¯ç³»ç»Ÿå’Œå®¡æ ¸åŠŸèƒ½ã€‚

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

### ğŸ“š çŸ¥è¯†åº“ç®¡ç†
- **æ–‡ä»¶ä¸Šä¼ **: æ”¯æŒçŸ¥è¯†åº“æ–‡ä»¶ä¸Šä¼ å’Œå…ƒæ•°æ®ç®¡ç†
- **å®¡æ ¸ç³»ç»Ÿ**: å®Œæ•´çš„å®¡æ ¸æµç¨‹ï¼ˆå¾…å®¡æ ¸ã€é€šè¿‡ã€æ‹’ç»ï¼‰
- **æœç´¢ç­›é€‰**: æ”¯æŒæŒ‰æ ‡ç­¾ã€å…³é”®è¯æœç´¢å’Œç­›é€‰
- **StaråŠŸèƒ½**: ç”¨æˆ·å¯ä»¥Staræ„Ÿå…´è¶£çš„çŸ¥è¯†åº“
- **æƒé™æ§åˆ¶**: åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶

### ğŸ­ äººè®¾å¡ç®¡ç†
- **æ–‡ä»¶ä¸Šä¼ **: æ”¯æŒäººè®¾å¡æ–‡ä»¶ä¸Šä¼ å’Œå…ƒæ•°æ®ç®¡ç†
- **å®¡æ ¸ç³»ç»Ÿ**: ä¸çŸ¥è¯†åº“ç›¸åŒçš„å®¡æ ¸æµç¨‹
- **åˆ†ç±»ç®¡ç†**: æ”¯æŒåˆ†ç±»å’Œæ ‡ç­¾ç³»ç»Ÿ
- **StaråŠŸèƒ½**: ç”¨æˆ·å¯ä»¥Staræ„Ÿå…´è¶£çš„äººè®¾å¡
- **ä¸ªäººæ”¶è—**: æŸ¥çœ‹ç”¨æˆ·å·²Starçš„äººè®¾å¡

### ğŸ‘¥ ç”¨æˆ·ç³»ç»Ÿ
- **ç”¨æˆ·è®¤è¯**: JWT tokenè®¤è¯æœºåˆ¶
- **è§’è‰²ç®¡ç†**: æ”¯æŒadminã€moderatorã€userä¸‰ç§è§’è‰²
- **ä¸ªäººä¸­å¿ƒ**: æŸ¥çœ‹ä¸ªäººä¸Šä¼ è®°å½•å’Œæ”¶è—
- **æ¶ˆæ¯ç³»ç»Ÿ**: å®¡æ ¸ç»“æœé€šçŸ¥å’Œæ¶ˆæ¯ç®¡ç†

### ğŸ”§ ç®¡ç†åŠŸèƒ½
- **å®¡æ ¸é¢æ¿**: ç®¡ç†å‘˜å’Œå®¡æ ¸å‘˜å¯ä»¥å®¡æ ¸å†…å®¹
- **ç”¨æˆ·ç®¡ç†**: ç®¡ç†å‘˜å¯ä»¥ç®¡ç†ç”¨æˆ·æƒé™
- **æ•°æ®ç»Ÿè®¡**: æŸ¥çœ‹ç³»ç»Ÿä½¿ç”¨æƒ…å†µå’Œç»Ÿè®¡æ•°æ®

### ğŸ“§ é‚®ä»¶æœåŠ¡
- **é‚®ä»¶å‘é€**: æ”¯æŒå‘é€é‚®ä»¶é€šçŸ¥
- **SMTPé…ç½®**: å¯é…ç½®çš„SMTPæœåŠ¡å™¨è®¾ç½®
- **é‚®ç®±è®¤è¯**: æ”¯æŒQQé‚®ç®±ç­‰ä¸»æµé‚®ç®±æœåŠ¡

## ğŸ—ï¸ æŠ€æœ¯æ ˆ

- **åç«¯æ¡†æ¶**: FastAPI (Python)
- **æ•°æ®å­˜å‚¨**: SQLiteæ•°æ®åº“ï¼ˆè½»é‡çº§å…³ç³»å‹æ•°æ®åº“ï¼‰
- **ORMæ¡†æ¶**: SQLAlchemyï¼ˆPythonå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰
- **è®¤è¯**: JWT (JSON Web Tokens)
- **å¯†ç å®‰å…¨**: bcryptå“ˆå¸Œ
- **æ–‡ä»¶ä¸Šä¼ **: æ”¯æŒå¤šç§æ–‡ä»¶æ ¼å¼
- **APIæ–‡æ¡£**: è‡ªåŠ¨ç”ŸæˆSwaggeræ–‡æ¡£

## ğŸ“ é¡¹ç›®ç»“æ„

```
backend-python-remake/
â”œâ”€â”€ main.py              # FastAPIåº”ç”¨å…¥å£
â”œâ”€â”€ api_routes.py        # APIè·¯ç”±å®šä¹‰
â”œâ”€â”€ database_models.py   # æ•°æ®åº“æ¨¡å‹å®šä¹‰
â”œâ”€â”€ database_manager.py  # æ•°æ®åº“ç®¡ç†å™¨
â”œâ”€â”€ file_upload.py       # æ–‡ä»¶ä¸Šä¼ æœåŠ¡
â”œâ”€â”€ user_management.py   # ç”¨æˆ·ç®¡ç†æ¨¡å—
â”œâ”€â”€ email_service.py     # é‚®ä»¶æœåŠ¡æ¨¡å—
â”œâ”€â”€ logger.py           # æ—¥å¿—è®°å½•æ¨¡å—
â”œâ”€â”€ requirements.txt    # Pythonä¾èµ–
â”œâ”€â”€ README.md          # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ TODO.md           # å¾…åŠäº‹é¡¹
â”œâ”€â”€ .gitignore        # Gitå¿½ç•¥é…ç½®
â”œâ”€â”€ .env               # ç¯å¢ƒå˜é‡é…ç½®
â”œâ”€â”€ .env.template      # ç¯å¢ƒå˜é‡æ¨¡æ¿
â””â”€â”€ data/             # æ•°æ®å­˜å‚¨ç›®å½•
    â””â”€â”€ mainnp.db     # SQLiteæ•°æ®åº“æ–‡ä»¶
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Python 3.8+
- pipåŒ…ç®¡ç†å™¨

### 1. å…‹éš†é¡¹ç›®
```bash
git clone <repository-url>
cd backend-python-remake
```

### 2. å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

### 3. åˆå§‹åŒ–æ•°æ®åº“
é¦–æ¬¡è¿è¡Œæ—¶ä¼šè‡ªåŠ¨åˆ›å»ºSQLiteæ•°æ®åº“æ–‡ä»¶ `data/mainnp.db`

### 4. å¯åŠ¨æœåŠ¡å™¨

#### å¼€å‘æ¨¡å¼ï¼ˆæ¨èï¼‰
```bash
python -m uvicorn main:app --host 0.0.0.0 --port 9278 --reload
```

#### ç”Ÿäº§æ¨¡å¼
```bash
# ä½¿ç”¨gunicorn
pip install gunicorn
gunicorn main:app -w 4 -k uvicorn.workers.UvicornWorker --bind 0.0.0.0:9278

# æˆ–ä½¿ç”¨Docker
docker build -t mainnp-backend .
docker run -p 9278:9278 mainnp-backend
```

### 5. è®¿é—®APIæ–‡æ¡£
- Swagger UI: http://localhost:9278/docs
- ReDoc: http://localhost:9278/redoc

### 6. æµ‹è¯•API
å¯ä»¥ä½¿ç”¨å†…ç½®çš„æµ‹è¯•ç”¨æˆ·ç™»å½•ï¼š
- ç”¨æˆ·å: testuser
- å¯†ç : testpass

æˆ–è€…é€šè¿‡Swagger UIç•Œé¢è¿›è¡Œäº¤äº’å¼æµ‹è¯•ã€‚

## ğŸ“– APIæ¥å£æ–‡æ¡£

### è®¤è¯ç›¸å…³
- `POST /api/token` - ç”¨æˆ·ç™»å½•è·å–tokenï¼ˆè¿”å›access_tokenå’Œrefresh_tokenï¼‰
- `POST /api/refresh` - åˆ·æ–°è®¿é—®ä»¤ç‰Œ
- `POST /api/send_verification_code` - å‘é€æ³¨å†ŒéªŒè¯ç 
- `POST /api/send_reset_password_code` - å‘é€é‡ç½®å¯†ç éªŒè¯ç 
- `POST /api/reset_password` - é‡ç½®å¯†ç 
- `POST /api/user/register` - ç”¨æˆ·æ³¨å†Œ
- `GET /api/users/me` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- `PUT /api/users/me/password` - ä¿®æ”¹å¯†ç 
- `POST /api/users/me/avatar` - ä¸Šä¼ å¤´åƒ
- `DELETE /api/users/me/avatar` - åˆ é™¤å¤´åƒ
- `GET /api/users/{user_id}/avatar` - è·å–ç”¨æˆ·å¤´åƒ

### çŸ¥è¯†åº“ç›¸å…³
- `POST /api/knowledge/upload` - ä¸Šä¼ çŸ¥è¯†åº“
- `GET /api/knowledge/public` - è·å–å…¬å¼€çŸ¥è¯†åº“
- `GET /api/knowledge/{kb_id}` - è·å–æŒ‡å®šçŸ¥è¯†åº“è¯¦æƒ…
- `GET /api/knowledge/user/{user_id}` - è·å–ç”¨æˆ·çŸ¥è¯†åº“
- `PUT /api/knowledge/{kb_id}` - æ›´æ–°çŸ¥è¯†åº“ä¿¡æ¯
- `POST /api/knowledge/{kb_id}/files` - æ·»åŠ çŸ¥è¯†åº“æ–‡ä»¶
- `DELETE /api/knowledge/{kb_id}/{file_id}` - åˆ é™¤çŸ¥è¯†åº“æ–‡ä»¶
- `GET /api/knowledge/{kb_id}/download` - ä¸‹è½½çŸ¥è¯†åº“å…¨éƒ¨æ–‡ä»¶ï¼ˆZIPï¼‰
- `GET /api/knowledge/{kb_id}/file/{file_id}` - ä¸‹è½½çŸ¥è¯†åº“å•ä¸ªæ–‡ä»¶
- `DELETE /api/knowledge/{kb_id}` - åˆ é™¤çŸ¥è¯†åº“
- `POST /api/knowledge/{kb_id}/star` - StarçŸ¥è¯†åº“
- `DELETE /api/knowledge/{kb_id}/star` - å–æ¶ˆStarçŸ¥è¯†åº“
- `GET /api/knowledge/{kb_id}/starred` - æ£€æŸ¥çŸ¥è¯†åº“StarçŠ¶æ€

### äººè®¾å¡ç›¸å…³
- `POST /api/persona/upload` - ä¸Šä¼ äººè®¾å¡
- `GET /api/persona/public` - è·å–å…¬å¼€äººè®¾å¡
- `GET /api/persona/{pc_id}` - è·å–æŒ‡å®šäººè®¾å¡è¯¦æƒ…
- `GET /api/persona/user/{user_id}` - è·å–ç”¨æˆ·äººè®¾å¡
- `PUT /api/persona/{pc_id}` - æ›´æ–°äººè®¾å¡ä¿¡æ¯
- `POST /api/persona/{pc_id}/files` - æ·»åŠ äººè®¾å¡æ–‡ä»¶
- `DELETE /api/persona/{pc_id}/{file_id}` - åˆ é™¤äººè®¾å¡æ–‡ä»¶
- `GET /api/persona/{pc_id}/download` - ä¸‹è½½äººè®¾å¡å…¨éƒ¨æ–‡ä»¶ï¼ˆZIPï¼‰
- `GET /api/persona/{pc_id}/file/{file_id}` - ä¸‹è½½äººè®¾å¡å•ä¸ªæ–‡ä»¶
- `DELETE /api/persona/{pc_id}` - åˆ é™¤äººè®¾å¡
- `POST /api/persona/{pc_id}/star` - Staräººè®¾å¡
- `DELETE /api/persona/{pc_id}/star` - å–æ¶ˆStaräººè®¾å¡
- `GET /api/persona/{pc_id}/starred` - æ£€æŸ¥äººè®¾å¡StarçŠ¶æ€

### å®¡æ ¸ç›¸å…³ï¼ˆéœ€è¦admin/moderatoræƒé™ï¼‰
- `GET /api/review/knowledge/pending` - è·å–å¾…å®¡æ ¸çŸ¥è¯†åº“
- `GET /api/review/persona/pending` - è·å–å¾…å®¡æ ¸äººè®¾å¡
- `POST /api/review/knowledge/{kb_id}/approve` - å®¡æ ¸é€šè¿‡çŸ¥è¯†åº“
- `POST /api/review/knowledge/{kb_id}/reject` - å®¡æ ¸æ‹’ç»çŸ¥è¯†åº“ï¼ˆéœ€åœ¨è¯·æ±‚ä½“ä¸­ä¼ é€’ `{"reason": "æ‹’ç»åŸå› "}`ï¼‰
- `POST /api/review/persona/{pc_id}/approve` - å®¡æ ¸é€šè¿‡äººè®¾å¡
- `POST /api/review/persona/{pc_id}/reject` - å®¡æ ¸æ‹’ç»äººè®¾å¡ï¼ˆéœ€åœ¨è¯·æ±‚ä½“ä¸­ä¼ é€’ `{"reason": "æ‹’ç»åŸå› "}`ï¼‰

### æ¶ˆæ¯ç›¸å…³
- `POST /api/messages/send` - å‘é€æ¶ˆæ¯
- `GET /api/messages` - è·å–ç”¨æˆ·æ¶ˆæ¯
- `POST /api/messages/{message_id}/read` - æ ‡è®°æ¶ˆæ¯ä¸ºå·²è¯»

### é‚®ä»¶æœåŠ¡ç›¸å…³ï¼ˆæœªå®ç°ï¼‰
- `POST /api/email/send` - å‘é€é‚®ä»¶é€šçŸ¥ï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰**çŠ¶æ€ï¼šæœªå®ç°**
- `GET /api/email/config` - è·å–é‚®ç®±é…ç½®ä¿¡æ¯ï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰**çŠ¶æ€ï¼šæœªå®ç°**
- `PUT /api/email/config` - æ›´æ–°é‚®ç®±é…ç½®ï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰**çŠ¶æ€ï¼šæœªå®ç°**

**æ³¨æ„**ï¼šé‚®ä»¶æœåŠ¡APIç›®å‰æœªå®ç°ï¼Œæ–‡æ¡£ä»…æä¾›è§„åˆ’ä¿¡æ¯ã€‚ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨é‚®ä»¶æœåŠ¡å‘é€éªŒè¯ç ç­‰åŠŸèƒ½ï¼Œä½†æœªæä¾›å…¬å¼€çš„APIæ¥å£ã€‚

### ç”¨æˆ·ç›¸å…³
- `GET /api/user/stars` - è·å–ç”¨æˆ·Starçš„çŸ¥è¯†åº“å’Œäººè®¾å¡ï¼ˆæ”¯æŒ`includeDetails`å‚æ•°ï¼‰

### ç®¡ç†å‘˜ç›¸å…³ï¼ˆéœ€è¦adminæƒé™ï¼‰
- `GET /api/admin/broadcast-messages` - è·å–å¹¿æ’­æ¶ˆæ¯ç»Ÿè®¡
- `GET /api/admin/stats` - è·å–ç³»ç»Ÿç»Ÿè®¡æ•°æ®
- `GET /api/admin/recent-users` - è·å–æœ€è¿‘æ³¨å†Œç”¨æˆ·
- `GET /api/admin/users` - è·å–ç”¨æˆ·åˆ—è¡¨ï¼ˆæ”¯æŒåˆ†é¡µå’Œæœç´¢ï¼‰
- `PUT /api/admin/users/{user_id}/role` - æ›´æ–°ç”¨æˆ·è§’è‰²
- `DELETE /api/admin/users/{user_id}` - åˆ é™¤ç”¨æˆ·
- `POST /api/admin/users` - åˆ›å»ºæ–°ç”¨æˆ·
- `GET /api/admin/knowledge/all` - è·å–æ‰€æœ‰çŸ¥è¯†åº“ï¼ˆç®¡ç†å‘˜ï¼‰
- `GET /api/admin/persona/all` - è·å–æ‰€æœ‰äººè®¾å¡ï¼ˆç®¡ç†å‘˜ï¼‰
- `POST /api/admin/knowledge/{kb_id}/revert` - æ¢å¤çŸ¥è¯†åº“å®¡æ ¸çŠ¶æ€
- `POST /api/admin/persona/{pc_id}/revert` - æ¢å¤äººè®¾å¡å®¡æ ¸çŠ¶æ€
- `GET /api/admin/upload-history` - è·å–ä¸Šä¼ å†å²è®°å½•
- `GET /api/admin/upload-stats` - è·å–ä¸Šä¼ ç»Ÿè®¡æ•°æ®
- `DELETE /api/admin/uploads/{upload_id}` - åˆ é™¤ä¸Šä¼ è®°å½•
- `POST /api/admin/uploads/{upload_id}/reprocess` - é‡æ–°å¤„ç†ä¸Šä¼ 

## ğŸ” æƒé™è¯´æ˜

### è§’è‰²å®šä¹‰
- **admin**: ç³»ç»Ÿç®¡ç†å‘˜ï¼Œæ‹¥æœ‰æ‰€æœ‰æƒé™
- **moderator**: å®¡æ ¸å‘˜ï¼Œå¯ä»¥å®¡æ ¸å†…å®¹
- **user**: æ™®é€šç”¨æˆ·ï¼Œå¯ä»¥ä¸Šä¼ å’ŒæŸ¥çœ‹å†…å®¹

### æƒé™æ§åˆ¶
- æ–‡ä»¶ä¸Šä¼ ï¼šæ‰€æœ‰è®¤è¯ç”¨æˆ·
- å†…å®¹å®¡æ ¸ï¼šadminå’Œmoderator
- ç”¨æˆ·ç®¡ç†ï¼šadmin
- æ•°æ®ç»Ÿè®¡ï¼šadmin

## ğŸ“ æ–‡ä»¶å­˜å‚¨

### ä¸Šä¼ æ–‡ä»¶ç»“æ„
```
uploads/
â”œâ”€â”€ knowledge/          # çŸ¥è¯†åº“æ–‡ä»¶
â”‚   â””â”€â”€ {user_id}/      # æŒ‰ç”¨æˆ·IDåˆ†ç±»
â”‚       â””â”€â”€ {kb_id}/    # æŒ‰çŸ¥è¯†åº“IDåˆ†ç±»
â””â”€â”€ persona/           # äººè®¾å¡æ–‡ä»¶
    â””â”€â”€ {user_id}/     # æŒ‰ç”¨æˆ·IDåˆ†ç±»
        â””â”€â”€ {pc_id}/   # æŒ‰äººè®¾å¡IDåˆ†ç±»
```

### æ•°æ®å­˜å‚¨
é¡¹ç›®ä½¿ç”¨SQLiteæ•°æ®åº“å­˜å‚¨æ‰€æœ‰æ•°æ®ï¼ŒåŒ…æ‹¬ï¼š
- ç”¨æˆ·ä¿¡æ¯ï¼ˆusersè¡¨ï¼‰
- çŸ¥è¯†åº“ä¿¡æ¯ï¼ˆknowledge_basesè¡¨ï¼‰
- äººè®¾å¡ä¿¡æ¯ï¼ˆpersona_cardsè¡¨ï¼‰
- æ¶ˆæ¯ï¼ˆmessagesè¡¨ï¼‰
- Starè®°å½•ï¼ˆstarsè¡¨ï¼‰

æ•°æ®åº“æ–‡ä»¶ä½äºï¼š`data/mainnp.db`

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡é…ç½®
é¡¹ç›®ä½¿ç”¨ `.env` æ–‡ä»¶è¿›è¡Œé…ç½®ç®¡ç†ã€‚é¦–æ¬¡ä½¿ç”¨æ—¶ï¼Œè¯·å¤åˆ¶ `.env.template` æ–‡ä»¶ä¸º `.env` å¹¶æ ¹æ®éœ€è¦ä¿®æ”¹é…ç½®ï¼š

```bash
cp .env.template .env
```

#### ä¸»è¦é…ç½®é¡¹

| é…ç½®é¡¹ | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|--------|
| `ADMIN_USERNAME` | ç®¡ç†å‘˜ç”¨æˆ·å | STMfan |
| `ADMIN_PWD` | ç®¡ç†å‘˜å¯†ç  | @Stickmanfans0805INMMNP |
| `HIGHEST_PASSWORD` | æœ€é«˜æƒé™å¯†ç  | éšæœºå­—ç¬¦ä¸² |
| `EXTERNAL_DOMAIN` | å¤–éƒ¨åŸŸå | maimnp.tech |
| `MAIL_HOST` | SMTPæœåŠ¡å™¨åœ°å€ | smtp.qq.com |
| `MAIL_USER` | å‘ä»¶é‚®ç®±åœ°å€ | 1710537557@qq.com |
| `MAIL_PORT` | SMTPæœåŠ¡å™¨ç«¯å£ | 465 |
| `MAIL_PWD` | é‚®ç®±æˆæƒç /SMTPå¯†ç  | æˆæƒç  |
| `PORT` | æœåŠ¡å™¨ç«¯å£ | 9278 |
| `HOST` | æœåŠ¡å™¨ä¸»æœº | 0.0.0.0 |
| `DATABASE_URL` | æ•°æ®åº“è¿æ¥URL | sqlite:///data/mainnp.db |
| `JWT_SECRET_KEY` | JWTå¯†é’¥ | éšæœºå­—ç¬¦ä¸² |
| `JWT_EXPIRATION_HOURS` | JWTè¿‡æœŸæ—¶é—´(å°æ—¶) | 24 |
| `MAX_FILE_SIZE_MB` | æœ€å¤§æ–‡ä»¶ä¸Šä¼ å¤§å°(MB) | 100 |
| `UPLOAD_DIR` | æ–‡ä»¶ä¸Šä¼ ç›®å½• | uploads |
| `LOG_LEVEL` | æ—¥å¿—çº§åˆ« | INFO |
| `LOG_FILE` | æ—¥å¿—æ–‡ä»¶è·¯å¾„ | logs/app.log |

#### é‚®ç®±é…ç½®è¯´æ˜
é‚®ä»¶æœåŠ¡æ”¯æŒå¤šç§é‚®ç®±æä¾›å•†ï¼š

**QQé‚®ç®±é…ç½®ï¼š**
- éœ€è¦åœ¨QQé‚®ç®±è®¾ç½®ä¸­å¼€å¯SMTPæœåŠ¡
- è·å–æˆæƒç ï¼ˆä¸æ˜¯QQå¯†ç ï¼‰
- ä½¿ç”¨ç«¯å£465ï¼ˆSSLï¼‰æˆ–587ï¼ˆTLSï¼‰

**å…¶ä»–é‚®ç®±é…ç½®ï¼š**
- Gmail: smtp.gmail.com, ç«¯å£587
- 163é‚®ç®±: smtp.163.com, ç«¯å£465
- Outlook: smtp-mail.outlook.com, ç«¯å£587

### æ—§ç‰ˆé…ç½®ï¼ˆå·²å¼ƒç”¨ï¼‰
- ç«¯å£é…ç½®ï¼šé»˜è®¤9278
- æ–‡ä»¶ä¸Šä¼ é™åˆ¶ï¼šå¯é…ç½®
- æ•°æ®å­˜å‚¨è·¯å¾„ï¼šå¯é…ç½®

## ğŸ“ å¼€å‘è¯´æ˜

### ä»£ç è§„èŒƒ
- ä½¿ç”¨Pythonç±»å‹æ³¨è§£
- éµå¾ªPEP 8ç¼–ç è§„èŒƒ
- æ·»åŠ å¿…è¦çš„æ³¨é‡Šå’Œæ–‡æ¡£

### é”™è¯¯å¤„ç†
- ç»Ÿä¸€çš„é”™è¯¯å“åº”æ ¼å¼
- è¯¦ç»†çš„é”™è¯¯æ—¥å¿—è®°å½•
- å‹å¥½çš„é”™è¯¯æç¤ºä¿¡æ¯

### å®‰å…¨æ€§
- å¯†ç ä½¿ç”¨bcryptå“ˆå¸Œ
- JWT tokenè®¤è¯
- è¾“å…¥éªŒè¯å’Œè¿‡æ»¤
- æ–‡ä»¶ä¸Šä¼ å®‰å…¨æ£€æŸ¥

## ğŸ› å¸¸è§é—®é¢˜

### Q: ç«¯å£è¢«å ç”¨æ€ä¹ˆåŠï¼Ÿ
A: ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å¹¶ç»ˆæ­¢å ç”¨è¿›ç¨‹ï¼š
```bash
netstat -ano | findstr :9278
taskkill /PID <PID> /F
```

### Q: APIæ¥å£è°ƒç”¨å¤±è´¥ï¼Ÿ
A: è¯·ç¡®ä¿æ‰€æœ‰APIè¯·æ±‚éƒ½åŒ…å«`/api`å‰ç¼€ï¼Œä¾‹å¦‚ï¼š
- ç™»å½•æ¥å£åº”ä¸º `/api/token` è€Œä¸æ˜¯ `/token`
- äººè®¾å¡æ¥å£åº”ä¸º `/api/persona/public` è€Œä¸æ˜¯ `/persona/public`

### Q: å¦‚ä½•æ·»åŠ æ–°ç”¨æˆ·ï¼Ÿ
A: é€šè¿‡APIæ¥å£æˆ–ä¿®æ”¹users.jsonæ–‡ä»¶

### Q: æ–‡ä»¶ä¸Šä¼ å¤±è´¥ï¼Ÿ
A: æ£€æŸ¥uploadsç›®å½•æƒé™å’Œç£ç›˜ç©ºé—´

### Q: å¦‚ä½•ä¿®æ”¹é»˜è®¤ç«¯å£ï¼Ÿ
A: ä¿®æ”¹å¯åŠ¨å‘½ä»¤ä¸­çš„ç«¯å£å·å‚æ•°

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Forké¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤ä»£ç æ›´æ”¹
4. åˆ›å»ºPull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ï¼Œè¯¦è§LICENSEæ–‡ä»¶ã€‚

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- é¡¹ç›®Issues
- é‚®ç®±è”ç³»

---

**æ³¨æ„**: è¿™æ˜¯ä¸€ä¸ªæ•™è‚²é¡¹ç›®ï¼Œè¯·å‹¿åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ç›´æ¥ä½¿ç”¨ã€‚å¦‚éœ€ç”Ÿäº§éƒ¨ç½²ï¼Œè¯·è€ƒè™‘æ·»åŠ æ•°æ®åº“ã€ç¼“å­˜ã€ç›‘æ§ç­‰ç”Ÿäº§çº§åŠŸèƒ½ã€‚