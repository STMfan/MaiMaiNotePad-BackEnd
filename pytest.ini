[pytest]
testpaths = tests
python_files = test_*.py
python_classes = Test* !TestDataFactory
python_functions = test_*
addopts = -v --tb=short --hypothesis-show-statistics -n auto --dist loadgroup
asyncio_mode = auto
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s %(levelname)s %(name)s - %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S
log_file = tests/tests.log
log_file_level = DEBUG
log_file_format = %(asctime)s %(levelname)s %(name)s - %(message)s (%(filename)s:%(lineno)d)
log_file_date_format = %Y-%m-%d %H:%M:%S
markers =
    # Test type markers
    unit: marks tests as unit tests (fast, isolated)
    integration: marks tests as integration tests (slower, multiple components)
    e2e: marks tests as end-to-end tests (slowest, full system)
    property: marks tests as property-based tests using hypothesis
    
    # Priority markers
    p0: marks tests as P0 priority (critical, must pass)
    p1: marks tests as P1 priority (important, should pass)
    p2: marks tests as P2 priority (nice to have)
    
    # Performance markers
    slow: marks tests as slow (deselect with '-m "not slow"')
    fast: marks tests as fast (< 1 second)
    serial: marks tests that must run serially (not in parallel)
    
    # Component markers
    websocket: marks tests related to WebSocket functionality
    auth: marks tests related to authentication
    api: marks tests related to API routes
    service: marks tests related to service layer
    database: marks tests related to database operations
    file: marks tests related to file operations
    
    # Special markers
    bugfix: marks tests for specific bug fixes
    security: marks tests for security-related functionality
    boundary: marks tests for boundary conditions
    exception: marks tests for exception handling